package complex.module.impl.exploit;

import complex.Complex;
import complex.event.EventTarget;
import complex.event.impl.EventUpdate;
import complex.module.Category;
import complex.module.Module;
import complex.module.data.Setting;
import complex.utils.timer.Timer;
import org.apache.commons.lang3.RandomStringUtils;

import java.io.UnsupportedEncodingException;
import java.nio.charset.StandardCharsets;
import java.util.ArrayList;
import java.util.Random;

public class Spammer extends Module {
    private Timer timer = new Timer();
    public int var1;
    private String mode;
    private int i = 0;

    public Spammer() {
        super("Spammer", null, 0, 0, Category.Exploit);
    }

    @Override
    public void setup() {
        ArrayList<String> options = new ArrayList<>();
        options.add("CroatianMusic");
        options.add("fart");
        options.add("RandomAlphabet");
        options.add("TestAuto");
        options.add("変態糞土方");
        options.add("優しい世界");
        options.add("唐沢心経");
        options.add("こ↑こ↓");
        options.add("ぴえん");
        options.add("クルミ");
        options.add("密です");
        Complex.getSettingsManager().rSetting(new Setting("Spam Mode", this, "CroatianMusic", options));
        Complex.getSettingsManager().rSetting(new Setting("Delay", this, 3.5, 0.1, 20, false));
        Complex.getSettingsManager().rSetting(new Setting("sendGarbled", this, false));
        Complex.getSettingsManager().rSetting(new Setting("Anni", this, true));
    }

    @Override
    public void onEnable() {
        var1 = 0;
        i = 0;
        super.onEnable();
    }

    @EventTarget
    public void onUodate(EventUpdate em) throws UnsupportedEncodingException {
        mode = Complex.getSettingsManager().getSettingByName("Spam Mode").getValString();
        double delay = Complex.getSettingsManager().getSettingByName("Delay").getValDouble();
        this.setDisplayName("Spammer");
        String[] msg = null;

        if (mode.equalsIgnoreCase("CroatianMusic")) {
            msg = new String[]{"Molimo Boga!",
                    "Neka se taj ljudski san uništi",
                    "Molim vas! a onda",
                    "Vjetar puše po bolnoj Mune ...",
                    "Prije nego što san nestane u snu",
                    "Munyamunyamunya ...",
                    "Usput",
                    "Nancy je bila mršavija",
                    "U blatnoj glavi",
                    "Letio na nancijskom nebu",
                    "Otvori obje ruke ...",
                    "Nancy je bila mršavija",
                    "Nisam baš želio umrijeti",
                    "Bože? Ljudi diljem svijeta",
                    "Pjevanje F-1 tematske pjesme s a cappella",
                    "Hej * Onda",
                    "Krug je u gradu",
                    "Nemam više telefonski stup",
                    "Govoreći o tome",
                    "Ta je osoba rekla",
                    "Najbolja rogačka bakaya na svijetu",
                    "reče tihim glasom",
                    "Volim to već duže vrijeme",
                    "Nancy je bila mršavija",
                    "Svijet se počinje naginjati",
                    "Letio na nancijskom nebu",
                    "Nisam baš želio umrijeti",
                    "Pušio sam i tanje",
                    "Pogledajmo novi svijet"};
        } else if (mode.equalsIgnoreCase("変態糞土方")) {
            msg = new String[]{"やったぜ。",
                    "投稿者：変態糞土方",
                    "(8月16日（水）07時14分22秒)",
                    "昨日の8月15日に",
                    "いつもの浮浪者のおっさん（60歳）と",
                    "先日メールくれた汚れ好きの土方のにいちゃん（45歳）と",
                    "わし（53歳）の3人で",
                    "県北にある川の土手の下で盛りあったぜ。",
                    "今日は明日が休みなんで",
                    "コンビニで酒とつまみを買ってから滅多に人が来ない所なんで、",
                    "そこでしこたま酒を飲んでからやりはじめたんや。",
                    "3人でちんぽ舐めあいながら",
                    "地下足袋だけになり",
                    "持って来たいちぢく浣腸を3本ずつ入れあった。",
                    "しばらくしたら、けつの穴がひくひくして来るし、",
                    "糞が出口を求めて腹の中でぐるぐるしている。",
                    "浮浪者のおっさんにけつの穴をなめさせながら、兄ちゃんのけつの穴を舐めてたら、",
                    "先に兄ちゃんがわしの口に糞をドバーっと出して来た。",
                    "それと同時におっさんもわしも糞を出したんや。",
                    "もう顔中、糞まみれや、",
                    "3人で出した糞を手で掬いながらお互いの体にぬりあったり、",
                    "糞まみれのちんぽを舐めあって小便で浣腸したりした。",
                    "ああ～～たまらねえぜ。",
                    "しばらくやりまくってから又浣腸をしあうと",
                    "もう気が狂う程気持ちええんじゃ。",
                    "浮浪者のおっさんのけつの穴にわしのちんぽを突うずるっ込んでやると",
                    "けつの穴が糞と小便でずるずるして気持ちが良い。",
                    "にいちゃんもおっさんの口にちんぽ突っ込んで腰をつかって居る。",
                    "糞まみれのおっさんのちんぽを掻きながら、",
                    "思い切り射精したんや。",
                    "それからは、もうめちゃくちゃに",
                    "おっさんと兄ちゃんの糞ちんぽを舐めあい、",
                    "糞を塗りあい、",
                    "二回も男汁を出した。",
                    "もう一度やりたいぜ。",
                    "やはり大勢で糞まみれになると最高やで。",
                    "こんな、変態親父と糞あそびしないか。",
                    "ああ～～早く糞まみれになろうぜ。",
                    "岡山の県北であえる奴なら最高や。",
                    "わしは163*90*53,",
                    "おっさんは165*75*60、や",
                    "糞まみれでやりたいやつ、至急、メールくれや。",
                    "土方姿のまま浣腸して、糞だらけでやろうや。"};
        } else if (mode.equalsIgnoreCase("優しい世界")) {
            msg = new String[]{"弟を青春時代に失ったことが全ての基点だった",
                    "自分の無力感",
                    "なぜこんなに無力なんだ",
                    "自問自答する日々",
                    "最終的に出会ったのが法律だった",
                    "皆頑張っていて刺激を受ける",
                    "同期に元気をもらう今日この頃",
                    "人との出会いに感謝",
                    "誰だって挫折はある",
                    "苦しいときはある",
                    "一人じゃない",
                    "あなたを見ている人はいる",
                    "仕事柄様々な人に出会う",
                    "苦しんでいる人",
                    "悲しんでいる人",
                    "喜んでいる人",
                    "すべての人との出会いに感謝",
                    "もしつらくて寝れないことがあれば",
                    "弁護士にメールしてみてください",
                    "あなたの抱えている悩みは解決可能かもしれない",
                    "必要なのは相談する勇気です",
                    "あなたの側にいる弁護士がいます",
                    "https://steadiness-law.jp/"};
        } else if (mode.equalsIgnoreCase("唐沢心経")) {
            msg = new String[]{"唐澤貴洋空閒怪胎弁護士無能無能",
                    "開示開示誤認開示IP破可破可",
                    "開示後核打込人生終了",
                    "尊師第一",
                    "尊師第一",
                    "唐澤五反田糞糞製造機",
                    "雄武信者毒瓦斯製造空中浮揚",
                    "三十万円強奪良肉中田氏",
                    "貴洋桃黒舞台行也",
                    "素心若雪恒心綜合法律事務所",
                    "複数件訴訟案件全力投球",
                    "青春時代弟失全基点",
                    "自分無力何故無力最終的出会法律",
                    "唐澤死死唐澤死死",
                    "無能破可破可弁護士唐澤聖典焼却",
                    "親脛齧虫明言唐澤無能",
                    "唐澤貴洋弁護士辞任切望"};
        } else if (mode.equalsIgnoreCase("こ↑こ↓")) {
            msg = new String[]{"ここ、ここ、ここ、ここ、ここ、ここ、ここ、ここ",
                    "指をさせばすぐそこに",
                    "ここ、ここ、ここ、ここ、ここ、ここ、ここ、ここ",
                    "下北沢の一軒家よ",
                    "はえー、すっごい大きい、悔い改めて悔い改めて",
                    "後輩が驚いた、自慢の自宅さ",
                    "あー、いいっすねー、焼いていこう焼いていこう",
                    "後輩が頷いた、自慢の屋上さ",
                    "劣情入りアイスティー、後輩が揺らめく",
                    "おっ、大丈夫か大丈夫か",
                    "愛情入りアイスティー、後輩を堕とすよ",
                    "お前のことが好きだったんだよ！"};
        } else if (mode.equalsIgnoreCase("ぴえん")) {
            msg = new String[]{"ぴえん…",
                    "ぴえん…",
                    "ぴえん…",
                    "ぴえん…",
                    "切なくて泣いている時は",
                    "優しく抱きしめてなぐさめて",
                    "あゝそれだけ",
                    "一人ぼっちの部屋",
                    "スマホを眺めても",
                    "モノクロの心には",
                    "彩りは戻らない",
                    "何にも言わなくていい",
                    "ただそばにいてくれたら",
                    "そんなことを想って",
                    "夜空ばかり見ていた",
                    "",
                    "不意に涙が溢れ出す",
                    "",
                    "綺麗な星空見えないよ",
                    "",
                    "ぴえん…",
                    "ぴえん…",
                    "ぴえん…",
                    "ぴえん…",
                    "切なくて泣いている時は",
                    "優しく抱きしめてなぐさめて",
                    "それだけでいいの",
                    "ぴえん…",
                    "ぴえん…",
                    "ぴえん…",
                    "ぴえん…",
                    "優しくなぐさめられたら",
                    "嬉しくて涙がまた出るよ",
                    "もうゴメンね",
            };
        } else if (mode.equalsIgnoreCase("クルミ")) {
            msg = new String[]{"唐澤貴洋がクルミを",
                    "車のタイヤが通るとこに置いてた",
                    "唐澤貴洋がクルミを",
                    "車のタイヤが通るとこに置いてた",
                    "車に割らせて食べてた",
                    "車に割らせて食べてた",
                    "ぐう賢い",
                    "ぐう賢い"};
        } else if (mode.equalsIgnoreCase("fart")) {
            double xdx = randomNumber(1.0, 10000.0);
            String xd = String.valueOf(xdx);
            msg = new String[]{"fart " + xd};
        } else if (mode.equalsIgnoreCase("RandomAlphabet")) {
            String str1 = RandomStringUtils.randomAlphabetic(20);
            msg = new String[]{str1};
        } else if (mode.equalsIgnoreCase("TestAuto")) {
            String[] c = {"あ", "い", "う", "え", "お", "か", "き", "く", "け", "こ", "さ", "し", "す", "せ", "そ", "ま", "み", "む", "め", "も", "な", "に", "ぬ", "ね", "の", "は", "ひ", "ふ", "へ", "ほ", "わ", "を", "ん", "ら", "り", "る", "れ", "ろ"};
            int cl = c.length;
            String k = c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)] + c[(int) Math.floor(Math.random() * cl)];
            k = new String(k.getBytes("UTF-8"), "Shift-JIS");
            msg = new String[]{k};
        } else if (mode.equalsIgnoreCase("密です")) {
            double xdx = randomNumber(1.0, 10000.0);
            String xd = String.valueOf(xdx);
            msg = new String[]{"密です "+xd, "蜜です"+xd};
        }

        if (this.timer.delay((float) (delay * 1050.0D))) {
            if (this.var1 >= msg.length) {
                this.var1 = 0;
            }
            mc.thePlayer.sendChatMessage(Complex.getSettingsManager().getSettingByName("Anni").getValBoolean() ? "!"+msg[this.var1] : msg[this.var1]);
            this.var1++;
            this.timer.reset();
        }
    }

    public static int randomNumber(double max, double min) {
        return (int) Math.round(min + (float)Math.random() * ((max - min)));
    }
}
