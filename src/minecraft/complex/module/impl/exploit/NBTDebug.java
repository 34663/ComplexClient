package complex.module.impl.exploit;

import complex.command.Command;
import complex.event.EventTarget;
import complex.event.impl.EventUpdate;
import complex.module.Category;
import complex.module.Module;
import complex.utils.timer.Timer;
import net.minecraft.item.ItemStack;
import net.minecraft.util.EnumHand;

public class NBTDebug extends Module {
    private Timer timer = new Timer();

    public NBTDebug() {
        super("NBTDebug", null, 0, 0, Category.Exploit);
    }

    @Override
    public void onEnable() {
        this.setDisplayName("NBTDebug");
        super.onEnable();
    }

    @EventTarget
    public void onUpdate(EventUpdate eventUpdate) {
        ItemStack main = mc.thePlayer.getHeldItem(EnumHand.MAIN_HAND);
        ItemStack off = mc.thePlayer.getHeldItem(EnumHand.OFF_HAND);
        if (main != null && main.getEnchantmentTagList() != null && main.getEnchantmentTagList().get(0) != null) {
            if (timer.delay(5000)) {
                Command.sendChatMessage(main.copy().getEnchantmentTagList().toString());
                timer.reset();
            }
        }
        if (off != null && off.getEnchantmentTagList() != null && off.getEnchantmentTagList().get(0) != null) {
            if (timer.delay(5000)) {
                Command.sendChatMessage(off.copy().getEnchantmentTagList().toString());
                timer.reset();
            }
        }
    }
}
